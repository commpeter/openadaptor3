<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd">
 
  <description><![CDATA[  
  This example adaptor illustrates the basic steps in converting to and from org.w3c.dom.Document.
    
    * reads an xml input file.
    * converts it into a org.w3c.dom.Document.
    * converts the Document into a pretty-printed XML String
    * writes formatted XML to stdout
    
  Run it like this...
    
    java org.openadaptor.spring.SpringAdaptor -config xml-w3c.xml
     
  You need the following in your classpath
  
    lib
    lib/openadaptor.jar
    lib/openadaptor-spring.jar
    lib/openadaptor-depends.jar
  ]]></description>
    
  <bean id="Adaptor" class="org.openadaptor.core.adaptor.Adaptor"> 
    <description>Define the basic adaptor pipeline</description>
     <property name="messageProcessor">
      <bean class="org.openadaptor.core.router.Router">
        <property name="processors">
          <list>
            <ref bean="reader"/>
			<ref bean="fromxml"/>
            <ref bean="toxml"/>
            <ref bean="writer"/>
          </list>
        </property>
      </bean>
    </property>    
  </bean> 
  
  <bean id="reader" class="org.openadaptor.auxil.connector.iostream.reader.FileReadConnector">
    <description>Read in an XML file.</description>
    <property name="filename" value="input/input.xml"/>
  </bean>

  <bean id="fromxml" class="org.openadaptor.thirdparty.w3c.XmlToW3CDocumentConvertor">
    <description>Convert to W3C Document.</description>
  </bean>
  
  <bean id="toxml" class="org.openadaptor.thirdparty.w3c.W3CDocumentToXmlConvertor">
    <description>Convert to prett-printed XML string.</description>
	<property name="prettyPrint" value="true" />
  </bean>
  
  <bean id="writer" class="org.openadaptor.auxil.connector.iostream.writer.FileWriteConnector"/>
  
</beans>
